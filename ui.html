<h1>Radix Palette Generator</h1>

<form id="plugin-form">
  <fieldset>
    <legend>color</legend>

    <p>
      <label for="color-name">select a color</label>
      <select name="colorName" id="color-name">
        <option value="tomato">tomato</option>
        <option value="red">red</option>
        <option value="crimson">crimson</option>
        <option value="pink">pink</option>
        <option value="plum">plum</option>
        <option value="purple">purple</option>
        <option value="violet">violet</option>
        <option value="indigo">indigo</option>
        <option value="blue">blue</option>
        <option value="cyan">cyan</option>
        <option value="teal">teal</option>
        <option value="green">green</option>
        <option value="grass">grass</option>
        <option value="brown">brown</option>
        <option value="orange">orange</option>

        <option value="sky">sky</option>
        <option value="mint">mint</option>
        <option value="lime">lime</option>
        <option value="yellow">yellow</option>
        <option value="amber">amber</option>

        <option value="gold">gold</option>
        <option value="bronze">bronze</option>

        <option value="gray">gray</option>
        <option value="mauve">mauve</option>
        <option value="slate">slate</option>
        <option value="sage">sage</option>
        <option value="olive">olive</option>
        <option value="sand">sand</option>
      </select>
    </p>

    <p>
      <label>theme</label>
      <input type="radio" name="theme" id="light" />
      <label for="light">light</label>
      <input type="radio" name="theme" id="dark" checked />
      <label for="dark">dark</label>
    </p>
  </fieldset>

  <input type="hidden" name="themeColor" value="light" />

  <button id="generate">generate palette</button>
  <button id="cancel">cancel</button>
</form>

<script>
  document.getElementById("generate").onclick = (event) => {
    let pluginForm = document.querySelector("#plugin-form");
    let pluginFormData = new FormData(pluginForm);

    if (document.querySelector("#dark").checked) {
      pluginFormData.set("themeColor", "dark");
    }

    let formDataObject = {};

    for (let [key, value] of pluginFormData) {
      formDataObject[key] = value;
    }

    parent.postMessage(
      { pluginMessage: { type: "action-generate", formDataObject } },
      "*"
    );
  };

  document.getElementById("cancel").onclick = (event) => {
    parent.postMessage({ pluginMessage: { type: "action-exit" } }, "*");
  };
</script>

<style></style>
